<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 1200px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .input-section {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        #userInput {
            flex: 1;
            min-width: 300px;
            padding: 15px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            outline: none;
        }

        #userInput:focus {
            border-color: #667eea;
        }

        #generateBtn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            white-space: nowrap;
        }

        #generateBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        #generateBtn:active {
            transform: translateY(0);
        }

        #generateBtn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .canvas-section {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        #canvas {
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            height: auto;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
            color: #666;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #c33;
            display: none;
        }

        .error.show {
            display: block;
        }

        .success {
            background: #efe;
            color: #363;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #363;
            display: none;
        }

        .success.show {
            display: block;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }

            h1 {
                font-size: 2rem;
            }

            .input-section {
                flex-direction: column;
            }

            #userInput {
                min-width: auto;
            }

            #canvas {
                width: 100%;
                max-width: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ Canvas Generator</h1>
        
        <div class="input-section">
            <input 
                type="text" 
                id="userInput" 
                placeholder="ì˜ˆ: ì œì£¼ë„ ì—¬í–‰ì„ í™ë³´í•˜ëŠ” ë°ê³  ê²½ì¾Œí•œ í¬ìŠ¤í„°ë¥¼ ë§Œë“¤ì–´ì¤˜"
                maxlength="200"
            >
            <button id="generateBtn">ìƒì„±í•˜ê¸°</button>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            Canvasë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.
        </div>

        <div class="error" id="error"></div>
        <div class="success" id="success"></div>

        <div class="canvas-section">
            <canvas id="canvas" width="1080" height="1080"></canvas>
        </div>
    </div>

    <script>
        // DOM ìš”ì†Œë“¤
        const userInput = document.getElementById('userInput');
        const generateBtn = document.getElementById('generateBtn');
        const canvas = document.getElementById('canvas');
        const loading = document.getElementById('loading');
        const error = document.getElementById('error');
        const success = document.getElementById('success');

        // API ì„œë²„ URL (í¬íŠ¸ 8001ë¡œ ë³€ê²½)
        const API_URL = 'http://localhost:8001';

        // ì´ˆê¸° Canvas ì„¤ì •
        function initCanvas() {
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ì•ˆë‚´ í…ìŠ¤íŠ¸
            ctx.fillStyle = '#6c757d';
            ctx.font = '24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ìœ„ì˜ ì…ë ¥ì°½ì— ë¬¸êµ¬ë¥¼ ì…ë ¥í•˜ê³  "ìƒì„±í•˜ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”', canvas.width / 2, canvas.height / 2);
        }

        // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
        function showError(message) {
            error.textContent = message;
            error.classList.add('show');
            success.classList.remove('show');
        }

        // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
        function showSuccess(message) {
            success.textContent = message;
            success.classList.add('show');
            error.classList.remove('show');
        }

        // ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
        function hideMessages() {
            error.classList.remove('show');
            success.classList.remove('show');
        }

        // ë¡œë”© ìƒíƒœ ê´€ë¦¬
        function setLoading(isLoading) {
            if (isLoading) {
                loading.classList.add('show');
                generateBtn.disabled = true;
                generateBtn.textContent = 'ìƒì„± ì¤‘...';
            } else {
                loading.classList.remove('show');
                generateBtn.disabled = false;
                generateBtn.textContent = 'ìƒì„±í•˜ê¸°';
            }
        }

        // Canvas ì½”ë“œ ì‹¤í–‰
        function executeCanvasCode(code) {
            try {
                // ê¸°ì¡´ Canvas ë‚´ìš© ì§€ìš°ê¸°
                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ì½”ë“œ ê²€ì¦ ë° ì •ë¦¬
                const cleanedCode = cleanCanvasCode(code);
                
                // ì½”ë“œê°€ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸
                if (!cleanedCode || cleanedCode.trim() === '') {
                    throw new Error('ìƒì„±ëœ ì½”ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.');
                }
                
                // ê¸°ë³¸ Canvas ì„¤ì • ì¶”ê°€ (ì¤‘ë³µ ì„ ì–¸ ë°©ì§€)
                const finalCode = `
                    const ctx = canvas.getContext('2d');
                    try {
                        ${cleanedCode}
                    } catch (err) {
                        console.error('Canvas drawing error:', err);
                        // ê¸°ë³¸ Canvas ê·¸ë¦¬ê¸°ë¡œ ëŒ€ì²´
                        ctx.fillStyle = '#87CEEB';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                        ctx.fillStyle = '#003366';
                        ctx.font = '40px Arial';
                        ctx.textAlign = 'center';
                        ctx.fillText('Canvas ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤', canvas.width / 2, canvas.height / 2);
                    }
                `;
                
                // ì•ˆì „í•œ ì½”ë“œ ì‹¤í–‰ì„ ìœ„í•œ í•¨ìˆ˜ ìƒì„±
                const safeExecute = new Function('canvas', finalCode);
                safeExecute(canvas);
                
                showSuccess('Canvasê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
            } catch (err) {
                console.error('Canvas ì½”ë“œ ì‹¤í–‰ ì˜¤ë¥˜:', err);
                console.error('ì›ë³¸ ì½”ë“œ:', code);
                showError('Canvas ì½”ë“œ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + err.message);
            }
        }

        // Canvas ì½”ë“œ ì •ë¦¬ í•¨ìˆ˜
        function cleanCanvasCode(code) {
            try {
                // í•œê¸€ ì£¼ì„ ì œê±°
                let cleaned = code.replace(/\/\/.*[ê°€-í£].*/g, '');
                
                // í•œê¸€ì´ í¬í•¨ëœ ë¬¸ìì—´ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
                cleaned = cleaned.replace(/(['"])([^'"]*[ê°€-í£][^'"]*)\1/g, function(match, quote, content) {
                    // ë¬¸ìì—´ ë‚´ì˜ í•œê¸€ì„ ìœ ì§€í•˜ë˜, ë¬¸ìì—´ ì™¸ë¶€ì˜ í•œê¸€ì€ ì œê±°
                    return quote + content + quote;
                });
                
                // ì½”ë“œ ë¸”ë¡ì—ì„œ í•œê¸€ í…ìŠ¤íŠ¸ê°€ ì‹ë³„ìë¡œ ì‚¬ìš©ë˜ëŠ” ê²½ìš° ì²˜ë¦¬
                cleaned = cleaned.replace(/([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=\s*['"]([^'"]*[ê°€-í£][^'"]*)['"]/g, function(match, varName, content) {
                    return varName + ' = "' + content + '"';
                });
                
                // AIê°€ ìƒì„±í•œ ì½”ë“œì˜ ì¼ë°˜ì ì¸ ë¬¸ì œë“¤ ìˆ˜ì •
                cleaned = cleaned.replace(/document\.body\.appendChild\(canvas\)/g, '');
                
                // ëª¨ë“  getElementById í˜¸ì¶œì„ canvasë¡œ í†µì¼ (ì¤‘ë³µ ì„ ì–¸ ì œê±° ì „ì— ì‹¤í–‰)
                cleaned = cleaned.replace(/document\.getElementById\(['"][^'"]*['"]\)/g, 'canvas');
                
                // canvas ìƒì„± ì½”ë“œ ì œê±° (ì´ë¯¸ HTMLì— ì¡´ì¬)
                cleaned = cleaned.replace(/const\s+canvas\s*=\s*document\.createElement\(['"]canvas['"]\);/g, '');
                cleaned = cleaned.replace(/let\s+canvas\s*=\s*document\.createElement\(['"]canvas['"]\);/g, '');
                cleaned = cleaned.replace(/var\s+canvas\s*=\s*document\.createElement\(['"]canvas['"]\);/g, '');
                
                // document.createElement('canvas') ìì²´ë¥¼ ì œê±°
                cleaned = cleaned.replace(/document\.createElement\(['"]canvas['"]\)/g, 'canvas');
                
                // ctx.save()ì™€ ctx.restore() ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬
                cleaned = cleaned.replace(/ctx\.save\(\)/g, 'ctx.save();');
                cleaned = cleaned.replace(/ctx\.restore\(\)/g, 'ctx.restore();');
                
                // canvas í¬ê¸° ì„¤ì • ì œê±° (ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆìŒ)
                cleaned = cleaned.replace(/canvas\.width\s*=\s*1080;/g, '');
                cleaned = cleaned.replace(/canvas\.height\s*=\s*1080;/g, '');
                
                // ì¤‘ë³µ ì„ ì–¸ ì œê±° (ì´ë¯¸ ì „ì—­ì—ì„œ ì„ ì–¸ë¨)
                cleaned = cleaned.replace(/const\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\);/g, '');
                cleaned = cleaned.replace(/const\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\);/g, '');
                cleaned = cleaned.replace(/let\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\);/g, '');
                cleaned = cleaned.replace(/let\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\);/g, '');
                cleaned = cleaned.replace(/var\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\);/g, '');
                cleaned = cleaned.replace(/var\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\);/g, '');
                
                // ë” í¬ê´„ì ì¸ ì¤‘ë³µ ì„ ì–¸ ì œê±° (ê³µë°±ê³¼ ì¤„ë°”ê¿ˆ ê³ ë ¤)
                cleaned = cleaned.replace(/const\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\)\s*;?\s*/g, '');
                cleaned = cleaned.replace(/const\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\)\s*;?\s*/g, '');
                cleaned = cleaned.replace(/let\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\)\s*;?\s*/g, '');
                cleaned = cleaned.replace(/let\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\)\s*;?\s*/g, '');
                cleaned = cleaned.replace(/var\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\)\s*;?\s*/g, '');
                cleaned = cleaned.replace(/var\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\)\s*;?\s*/g, '');
                
                // ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„ëœ ê²½ìš°ë„ ì²˜ë¦¬
                cleaned = cleaned.replace(/const\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\)\s*;?\s*\n/g, '');
                cleaned = cleaned.replace(/const\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\)\s*;?\s*\n/g, '');
                cleaned = cleaned.replace(/let\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\)\s*;?\s*\n/g, '');
                cleaned = cleaned.replace(/let\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\)\s*;?\s*\n/g, '');
                cleaned = cleaned.replace(/var\s+canvas\s*=\s*document\.getElementById\(['"]canvas['"]\)\s*;?\s*\n/g, '');
                cleaned = cleaned.replace(/var\s+ctx\s*=\s*canvas\.getContext\(['"]2d['"]\)\s*;?\s*\n/g, '');
                
                // ì´ë¯¸ì§€ ë¡œë”© ë¶€ë¶„ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
                cleaned = cleaned.replace(/new Image\(\)/g, 'null');
                cleaned = cleaned.replace(/img\.src\s*=\s*[^;]+;/g, '');
                cleaned = cleaned.replace(/img\.onload\s*=\s*\(\)\s*=>\s*\{[^}]*\}/g, '');
                
                // forEach ë£¨í”„ë¥¼ ë‹¨ìˆœí•œ ë„í˜• ê·¸ë¦¬ê¸°ë¡œ ëŒ€ì²´
                cleaned = cleaned.replace(/circleImages\.forEach\([^}]*\}/g, `
                    // Draw simple circles instead of images
                    ctx.fillStyle = '#FF6B6B';
                    ctx.beginPath();
                    ctx.arc(canvas.width / 2 - 150, 750, 80, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#4ECDC4';
                    ctx.beginPath();
                    ctx.arc(canvas.width / 2, 750, 80, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#45B7D1';
                    ctx.beginPath();
                    ctx.arc(canvas.width / 2 + 150, 750, 80, 0, Math.PI * 2);
                    ctx.fill();
                `);
                
                cleaned = cleaned.replace(/seagullImages\.forEach\([^}]*\}/g, `
                    // Draw simple seagull shapes
                    ctx.fillStyle = '#FFFFFF';
                    ctx.beginPath();
                    ctx.arc(150, 75, 20, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.beginPath();
                    ctx.arc(350, 75, 20, 0, Math.PI * 2);
                    ctx.fill();
                `);
                
                // ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ” ì½”ë“œ íŒ¨í„´ë“¤ ì œê±°
                cleaned = cleaned.replace(/ctx\.stroke\(\)/g, '');
                cleaned = cleaned.replace(/ctx\.moveTo\([^)]*\)/g, '');
                cleaned = cleaned.replace(/ctx\.lineTo\([^)]*\)/g, '');
                
                // ë¶ˆí•„ìš”í•œ ê³µë°± ì œê±°
                cleaned = cleaned.replace(/\s+/g, ' ').trim();
                
                // ì½”ë“œê°€ ìœ íš¨í•œì§€ í™•ì¸
                try {
                    new Function('canvas', cleaned);
                } catch (syntaxError) {
                    console.warn('ì½”ë“œ êµ¬ë¬¸ ì˜¤ë¥˜ ê°ì§€, ì¶”ê°€ ì •ë¦¬ ì‹œë„:', syntaxError.message);
                    // ì¶”ê°€ ì •ë¦¬: ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ” í•œê¸€ í…ìŠ¤íŠ¸ ì œê±°
                    cleaned = cleaned.replace(/[ê°€-í£]+(?![^'"]*['"])/g, '');
                    
                    // ì¶”ê°€ ì •ë¦¬: ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ” ì½”ë“œ íŒ¨í„´ ì œê±°
                    cleaned = cleaned.replace(/ctx\.restore\(\);/g, '');
                    cleaned = cleaned.replace(/ctx\.save\(\);/g, '');
                    cleaned = cleaned.replace(/ctx\.stroke\(\);/g, '');
                    cleaned = cleaned.replace(/ctx\.moveTo\([^)]*\);/g, '');
                    cleaned = cleaned.replace(/ctx\.lineTo\([^)]*\);/g, '');
                    
                    // ìµœì¢… ê²€ì¦
                    try {
                        new Function('canvas', cleaned);
                    } catch (finalError) {
                        console.warn('ìµœì¢… ì •ë¦¬ í›„ì—ë„ ì˜¤ë¥˜, ê¸°ë³¸ ì½”ë“œ ì‚¬ìš©:', finalError.message);
                        // ê¸°ë³¸ Canvas ì½”ë“œë¡œ ëŒ€ì²´
                        cleaned = `
                            ctx.fillStyle = '#87CEEB';
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.fillStyle = '#003366';
                            ctx.font = '40px Arial';
                            ctx.textAlign = 'center';
                            ctx.fillText('Canvas ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤', canvas.width / 2, canvas.height / 2);
                        `;
                    }
                }
                
                // ìµœì¢… ì•ˆì „ì„± ê²€ì‚¬
                if (!cleaned.includes('ctx.fillStyle') || !cleaned.includes('ctx.fillRect')) {
                    console.warn('í•„ìˆ˜ Canvas ì½”ë“œê°€ ì—†ìŒ, ê¸°ë³¸ ì½”ë“œë¡œ ëŒ€ì²´');
                    cleaned = `
                        ctx.fillStyle = '#87CEEB';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                        ctx.fillStyle = '#003366';
                        ctx.font = '40px Arial';
                        ctx.textAlign = 'center';
                        ctx.fillText('Canvas ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤', canvas.width / 2, canvas.height / 2);
                    `;
                }
                
                console.log('ì •ë¦¬ëœ Canvas ì½”ë“œ:', cleaned);
                return cleaned;
            } catch (err) {
                console.error('ì½”ë“œ ì •ë¦¬ ì¤‘ ì˜¤ë¥˜:', err);
                // ê¸°ë³¸ì ì¸ ì •ë¦¬ë§Œ ìˆ˜í–‰
                return code.replace(/[ê°€-í£]+(?![^'"]*['"])/g, '').trim();
            }
        }

        // API í˜¸ì¶œ
        async function generateCanvas() {
            const inputText = userInput.value.trim();
            
            if (!inputText) {
                showError('ë¬¸êµ¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            hideMessages();
            setLoading(true);

            try {
                const response = await fetch(`${API_URL}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        user_input: inputText
                    })
                });

                const data = await response.json();

                if (response.ok && data.success) {
                    executeCanvasCode(data.canvas_code);
                } else {
                    showError(data.message || 'Canvas ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (err) {
                console.error('API í˜¸ì¶œ ì˜¤ë¥˜:', err);
                showError('ì„œë²„ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
            } finally {
                setLoading(false);
            }
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        generateBtn.addEventListener('click', generateCanvas);
        
        // Enter í‚¤ë¡œë„ ìƒì„± ê°€ëŠ¥
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !generateBtn.disabled) {
                generateCanvas();
            }
        });

        // ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤ ì‹œ ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
        userInput.addEventListener('focus', hideMessages);

        // ì´ˆê¸°í™”
        initCanvas();

        // ì„œë²„ ìƒíƒœ í™•ì¸ (ì„ íƒì‚¬í•­)
        async function checkServerHealth() {
            try {
                const response = await fetch(`${API_URL}/health`);
                const data = await response.json();
                console.log('ì„œë²„ ìƒíƒœ:', data);
            } catch (err) {
                console.warn('ì„œë²„ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨:', err);
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„œë²„ ìƒíƒœ í™•ì¸
        checkServerHealth();
    </script>
</body>
</html>
